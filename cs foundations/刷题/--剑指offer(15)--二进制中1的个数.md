# 二进制中1的个数



```
public class Solution {
    public int NumberOf1(int n) {
        // 最优解法
        // 如果n的二进制表示的最后一位不是1，比如1110，它减去1后变为1101，它的最后一个1的左边的数位不变，它的右边的0变成1；
        // 如果一个数不为0，那么这个数中肯定有1，
        // Java中，所有的数都是补码表示的
        // 如果一个数是负数，减去1后，变为一个更小的负数，绝对值变大，原码的最高位是1，其余位数的绝对值变大，反码的最高位是1，其余位绝对值变小，补码的最高位是1，其余位绝对值变小，也就是说
        // 负数减去1，相当于最高位不变，其余位当做正数减去1，这和正数减1统一起来了
        int count = 0;
        while(n!=0){
            count++;
            n = n & (n-1);
        }
        return count;
    }
}
```



对于一个正整数: n-1相当于把n的二进制表示的最后一个1变成0, 这个1右边的0全变成1.

对于一个负整数: n-1相当于把n的补码的最后一个1变成0,  这个1右边的0全变成1.

比如: 

-1 111111...111

-2 111111...110

-3 111111...101

-4 111111...100

-5 111111...011





## 怎么用一条语句判断一个数n是不是2的整数次方?

n & (n-1) = 0



## 输入2个整数m和n, 计算需要改变m的二进制表示中的多少位才能得到n?

m和n做按位异或, 再求 (m^n) 的二进制表示中1的个数.



